{"ast":null,"code":"import { authenticate } from '../../../middleware/authenticate';\nimport { database } from '../../../middleware/database';\nexport default authenticate(database(async function groceriesList(req, res) {\n  if (req.method != 'GET') {\n    res.json({\n      status: 'GET only'\n    });\n    return;\n  }\n\n  const db = req.db;\n  const collection = db.collection('groceries');\n  const groceries = await collection.find().toArray();\n  res.json(groceries);\n}));","map":{"version":3,"sources":["C:/Dev/Sandbox/next/next-starter/pages/api/groceries/index.ts"],"names":["authenticate","database","groceriesList","req","res","method","json","status","db","collection","groceries","find","toArray"],"mappings":"AAEA,SAASA,YAAT,QAA6B,kCAA7B;AACA,SAASC,QAAT,QAA2C,8BAA3C;AAEA,eAAeD,YAAY,CAACC,QAAQ,CAAC,eAAeC,aAAf,CACjCC,GADiC,EAEjCC,GAFiC,EAGnC;AACE,MAAID,GAAG,CAACE,MAAJ,IAAc,KAAlB,EAAyB;AACrBD,IAAAA,GAAG,CAACE,IAAJ,CAAS;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAT;AACA;AACH;;AAED,QAAMC,EAAE,GAAGL,GAAG,CAACK,EAAf;AACA,QAAMC,UAAU,GAAGD,EAAE,CAACC,UAAH,CAAc,WAAd,CAAnB;AACA,QAAMC,SAAS,GAAG,MAAMD,UAAU,CAACE,IAAX,GAAkBC,OAAlB,EAAxB;AAEAR,EAAAA,GAAG,CAACE,IAAJ,CAASI,SAAT;AACH,CAdmC,CAAT,CAA3B","sourcesContent":["import { NextApiRequest, NextApiResponse, NextApiHandler } from 'next';\r\nimport { MongoClient } from 'mongodb';\r\nimport { authenticate } from '../../../middleware/authenticate';\r\nimport { database, MyNextApiRequest } from '../../../middleware/database';\r\n\r\nexport default authenticate(database(async function groceriesList(\r\n    req: MyNextApiRequest,\r\n    res: NextApiResponse\r\n) {\r\n    if (req.method != 'GET') {\r\n        res.json({ status: 'GET only' });\r\n        return;\r\n    }\r\n\r\n    const db = req.db;\r\n    const collection = db.collection('groceries');\r\n    const groceries = await collection.find().toArray();\r\n\r\n    res.json(groceries);\r\n}));"]},"metadata":{},"sourceType":"module"}