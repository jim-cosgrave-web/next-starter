{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Dev\\\\Sandbox\\\\next\\\\next-starter\\\\pages\\\\login.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useRef } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Router from 'next/router'; //const apiUrl = 'https://next-mongodb-nine.now.sh/api/daily';\n\nvar apiUrl = 'http://localhost:3000/api/user/login';\n\nvar Login = function Login() {\n  _s();\n\n  var emailRef = useRef(null);\n  var passwordRef = useRef(null);\n\n  function handleLogin() {\n    return _handleLogin.apply(this, arguments);\n  }\n\n  function _handleLogin() {\n    _handleLogin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var resp, json;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(apiUrl, {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  'email': emailRef.current.value,\n                  'password': passwordRef.current.value\n                })\n              });\n\n            case 2:\n              resp = _context.sent;\n              _context.next = 5;\n              return resp.json();\n\n            case 5:\n              json = _context.sent;\n              Router.replace('/groceries');\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _handleLogin.apply(this, arguments);\n  }\n\n  return __jsx(\"div\", {\n    className: \"site-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"login-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"login-left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"login-left-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 21\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 25\n    }\n  }, \"Log in to your account\"), __jsx(\"div\", {\n    className: \"login-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"login-form-fieldset\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: \"login-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 33\n    }\n  }, \"Email Address\"), __jsx(\"div\", {\n    className: \"login-form-input\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 33\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    ref: emailRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 37\n    }\n  }))), __jsx(\"div\", {\n    className: \"login-form-fieldset\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: \"login-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 33\n    }\n  }, \"Password\"), __jsx(\"div\", {\n    className: \"login-form-input\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 33\n    }\n  }, __jsx(\"input\", {\n    type: \"password\",\n    ref: passwordRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 37\n    }\n  }))), __jsx(\"div\", {\n    className: \"login-buntton-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 33\n    }\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    className: \"login-button\",\n    onClick: handleLogin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 37\n    }\n  }, \"Login\")), __jsx(\"div\", {\n    className: \"ml-15\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 33\n    }\n  }, \"Don't have an account? \", __jsx(\"a\", {\n    href: \"#\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 60\n    }\n  }, \"Sign Up\")))))), __jsx(\"div\", {\n    className: \"login-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"login-right-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"login-right-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 29\n    }\n  }, \"GROCER\"), __jsx(\"div\", {\n    className: \"tag-line\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, \"Shop smarter.\"))))));\n};\n\n_s(Login, \"kzhJ70L4zutTer2/sxB1ru7ui/E=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Dev/Sandbox/next/next-starter/pages/login.tsx"],"names":["React","useRef","fetch","Router","apiUrl","Login","emailRef","passwordRef","handleLogin","method","headers","body","JSON","stringify","current","value","resp","json","replace"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,aAAnB,C,CAEA;;AACA,IAAMC,MAAM,GAAG,sCAAf;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAAA;;AAChB,MAAMC,QAAQ,GAAGL,MAAM,CAAmB,IAAnB,CAAvB;AACA,MAAMM,WAAW,GAAGN,MAAM,CAAmB,IAAnB,CAA1B;;AAFgB,WAIDO,WAJC;AAAA;AAAA;;AAAA;AAAA,4EAIhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACuBN,KAAK,CAACE,MAAD,EAAS;AAC7BK,gBAAAA,MAAM,EAAE,MADqB;AAE7BC,gBAAAA,OAAO,EAAE;AACL,kCAAgB;AADX,iBAFoB;AAK7BC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjB,2BAASP,QAAQ,CAACQ,OAAT,CAAiBC,KADT;AAEjB,8BAAYR,WAAW,CAACO,OAAZ,CAAoBC;AAFf,iBAAf;AALuB,eAAT,CAD5B;;AAAA;AACUC,cAAAA,IADV;AAAA;AAAA,qBAYuBA,IAAI,CAACC,IAAL,EAZvB;;AAAA;AAYUA,cAAAA,IAZV;AAcId,cAAAA,MAAM,CAACe,OAAP,CAAe,YAAf;;AAdJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAJgB;AAAA;AAAA;;AAqBhB,SACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,EAEI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAII;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,GAAG,EAAEZ,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAJJ,CADJ,EASI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAII;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,GAAG,EAAEC,WAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAJJ,CATJ,EAiBI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,cAAhC;AAA+C,IAAA,OAAO,EAAEC,WAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,CADJ,EAII;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAC2B;AAAG,IAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAD3B,CAJJ,CAjBJ,CAFJ,CADJ,CADJ,EAgCI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAII;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAJJ,CADJ,CADJ,CAhCJ,CADJ,CADJ;AAiDH,CAtED;;GAAMH,K;;KAAAA,K;AAwEN,eAAeA,KAAf","sourcesContent":["import React, { useRef } from 'react';\r\nimport fetch from 'isomorphic-unfetch';\r\nimport Router from 'next/router';\r\n\r\n//const apiUrl = 'https://next-mongodb-nine.now.sh/api/daily';\r\nconst apiUrl = 'http://localhost:3000/api/user/login';\r\n\r\nconst Login = () => {\r\n    const emailRef = useRef<HTMLInputElement>(null);\r\n    const passwordRef = useRef<HTMLInputElement>(null);\r\n\r\n    async function handleLogin() {\r\n        const resp = await fetch(apiUrl, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                'email': emailRef.current.value,\r\n                'password': passwordRef.current.value\r\n            })\r\n        })\r\n        \r\n        const json = await resp.json();\r\n\r\n        Router.replace('/groceries');\r\n    }\r\n\r\n    return (\r\n        <div className=\"site-wrapper\">\r\n            <div className=\"login-wrapper\">\r\n                <div className=\"login-left\">\r\n                    <div className=\"login-left-wrapper\">\r\n                        <h1>Log in to your account</h1>\r\n                        <div className=\"login-form\">\r\n                            <div className=\"login-form-fieldset\">\r\n                                <div className=\"login-form-label\">\r\n                                    Email Address\r\n                            </div>\r\n                                <div className=\"login-form-input\">\r\n                                    <input type=\"text\" ref={emailRef} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"login-form-fieldset\">\r\n                                <div className=\"login-form-label\">\r\n                                    Password\r\n                            </div>\r\n                                <div className=\"login-form-input\">\r\n                                    <input type=\"password\" ref={passwordRef} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"login-buntton-wrapper\">\r\n                                <div>\r\n                                    <button type=\"submit\" className=\"login-button\" onClick={handleLogin}>Login</button>\r\n                                </div>\r\n                                <div className=\"ml-15\">\r\n                                    Don't have an account? <a href=\"#\">Sign Up</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"login-right\">\r\n                    <div className=\"login-right-container\">\r\n                        <div className=\"login-right-title\">\r\n                            <div className=\"title\">\r\n                                GROCER\r\n                        </div>\r\n                            <div className=\"tag-line\">\r\n                                Shop smarter.\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}